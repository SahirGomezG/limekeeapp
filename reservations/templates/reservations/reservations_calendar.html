{% extends "blog/base.html" %}

{% block content %}
    <div class="content-section p-4" style="font-size: 11px">
        <div id='calendar'></div>
    </div>

    <script>

    var jsonObject = JSON.parse('{{ data | escapejs }}');
    console.log(jsonObject);

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
          plugins: [ 'dayGrid' ],
          events: jsonObject,
          eventColor: '#155952',
          eventClick: function(info) {
              info.el.style.color = '#fff';
              if (info.event.url) {
                  window.open(info.event.url,_self);
              }
          },
          eventMouseEnter:function(info){
              info.el.style.backgroundColor = '#5D7562'
          },
          eventMouseLeave:function(info){
              info.el.style.backgroundColor = '#155952'
          }

        });
        calendar.render();
      });
    </script>

{% endblock content %}
